(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[613],{7457:function(e,t,l){Promise.resolve().then(l.bind(l,8937))},8937:function(e,t,l){"use strict";l.d(t,{default:function(){return q}});var r=l(7437),a=l(2265),n=l(957),s=l(4697),o=l(1538),i=l(2218),d=l(4839),c=l(6164);function u(){for(var e=arguments.length,t=Array(e),l=0;l<e;l++)t[l]=arguments[l];return(0,c.m6)((0,d.W)(t))}let f=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),m=a.forwardRef((e,t)=>{let{className:l,variant:a,size:n,asChild:s=!1,...i}=e,d=s?o.g7:"button";return(0,r.jsx)(d,{className:u(f({variant:a,size:n,className:l})),ref:t,...i})});m.displayName="Button";var h=l(543),x=l(2421),p=l(4392),g=l(2468);let b=h.fC;h.ZA;let v=h.B4,y=a.forwardRef((e,t)=>{let{className:l,children:a,...n}=e;return(0,r.jsxs)(h.xz,{ref:t,className:u("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",l),...n,children:[a,(0,r.jsx)(h.JO,{asChild:!0,children:(0,r.jsx)(x.Z,{className:"h-4 w-4 opacity-50"})})]})});y.displayName=h.xz.displayName;let w=a.forwardRef((e,t)=>{let{className:l,...a}=e;return(0,r.jsx)(h.u_,{ref:t,className:u("flex cursor-default items-center justify-center py-1",l),...a,children:(0,r.jsx)(p.Z,{className:"h-4 w-4"})})});w.displayName=h.u_.displayName;let N=a.forwardRef((e,t)=>{let{className:l,...a}=e;return(0,r.jsx)(h.$G,{ref:t,className:u("flex cursor-default items-center justify-center py-1",l),...a,children:(0,r.jsx)(x.Z,{className:"h-4 w-4"})})});N.displayName=h.$G.displayName;let j=a.forwardRef((e,t)=>{let{className:l,children:a,position:n="popper",...s}=e;return(0,r.jsx)(h.h_,{children:(0,r.jsxs)(h.VY,{ref:t,className:u("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",l),position:n,...s,children:[(0,r.jsx)(w,{}),(0,r.jsx)(h.l_,{className:u("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,r.jsx)(N,{})]})})});j.displayName=h.VY.displayName,a.forwardRef((e,t)=>{let{className:l,...a}=e;return(0,r.jsx)(h.__,{ref:t,className:u("py-1.5 pl-8 pr-2 text-sm font-semibold",l),...a})}).displayName=h.__.displayName;let k=a.forwardRef((e,t)=>{let{className:l,children:a,...n}=e;return(0,r.jsxs)(h.ck,{ref:t,className:u("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",l),...n,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(h.wU,{children:(0,r.jsx)(g.Z,{className:"h-4 w-4"})})}),(0,r.jsx)(h.eT,{children:a})]})});k.displayName=h.ck.displayName,a.forwardRef((e,t)=>{let{className:l,...a}=e;return(0,r.jsx)(h.Z0,{ref:t,className:u("-mx-1 my-1 h-px bg-muted",l),...a})}).displayName=h.Z0.displayName;let C=(0,i.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),M=a.forwardRef((e,t)=>{let{className:l,variant:a,...n}=e;return(0,r.jsx)("div",{ref:t,role:"alert",className:u(C({variant:a}),l),...n})});M.displayName="Alert";let A=a.forwardRef((e,t)=>{let{className:l,...a}=e;return(0,r.jsx)("h5",{ref:t,className:u("mb-1 font-medium leading-none tracking-tight",l),...a})});A.displayName="AlertTitle";let S=a.forwardRef((e,t)=>{let{className:l,...a}=e;return(0,r.jsx)("div",{ref:t,className:u("text-sm [&_p]:leading-relaxed",l),...a})});S.displayName="AlertDescription";let Q=a.forwardRef((e,t)=>{let{className:l,...a}=e;return(0,r.jsx)("div",{ref:t,className:u("rounded-lg border bg-card text-card-foreground shadow-sm",l),...a})});Q.displayName="Card";let R=a.forwardRef((e,t)=>{let{className:l,...a}=e;return(0,r.jsx)("div",{ref:t,className:u("flex flex-col space-y-1.5 p-6",l),...a})});R.displayName="CardHeader";let z=a.forwardRef((e,t)=>{let{className:l,...a}=e;return(0,r.jsx)("h3",{ref:t,className:u("text-2xl font-semibold leading-none tracking-tight",l),...a})});z.displayName="CardTitle",a.forwardRef((e,t)=>{let{className:l,...a}=e;return(0,r.jsx)("p",{ref:t,className:u("text-sm text-muted-foreground",l),...a})}).displayName="CardDescription";let T=a.forwardRef((e,t)=>{let{className:l,...a}=e;return(0,r.jsx)("div",{ref:t,className:u("p-6 pt-0",l),...a})});T.displayName="CardContent",a.forwardRef((e,t)=>{let{className:l,...a}=e;return(0,r.jsx)("div",{ref:t,className:u("flex items-center p-6 pt-0",l),...a})}).displayName="CardFooter";var E=l(6506);let _=a.forwardRef((e,t)=>{let{className:l,value:a,...n}=e;return(0,r.jsx)(E.fC,{ref:t,className:u("relative h-4 w-full overflow-hidden rounded-full bg-secondary",l),...n,children:(0,r.jsx)(E.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})});function G(e){let t=0;for(;t<1e3;){t++;let l=function(e){let t=Array(e).fill(0).map(()=>Array(e).fill(0)),l=Array(e).fill(1),r=e*e-e;for(let l=0;l<e;l++){let r=!1;for(;!r;){let a=Math.floor(Math.random()*e),n=Math.floor(Math.random()*e);0===t[a][n]&&(t[a][n]=l+1,r=!0)}}for(;r>0;){let a=Math.floor(Math.random()*e)+1,n=[[0,1],[1,0],[0,-1],[-1,0]],s=!1;for(let o=0;o<e&&!s;o++)for(let i=0;i<e&&!s;i++)if(t[o][i]===a)for(let[d,c]of n){let n=o+d,u=i+c;if(n>=0&&n<e&&u>=0&&u<e&&0===t[n][u]){t[n][u]=a,l[a-1]++,r--,s=!0;break}}}return t}(e),r=function(e,t){let l=Array(t).fill(null).map(()=>Array(t).fill(null)),r=new Set;return!function a(n){if(n===t)return!0;for(let s of Array.from({length:t},(e,t)=>t).sort(()=>Math.random()-.5))if(function(a,n){for(let e=0;e<t;e++)if("Q"===l[a][e]||"Q"===l[e][n])return!1;for(let e=0;e<t;e++)for(let r=0;r<t;r++)if("Q"===l[e][r]&&Math.abs(e-a)===Math.abs(r-n))return!1;return!r.has(e[a][n])}(n,s)){if(l[n][s]="Q",r.add(e[n][s]),a(n+1))return!0;l[n][s]=null,r.delete(e[n][s])}return!1}(0)?null:l}(l,e);if(r)return{regions:l,solution:r}}return null}_.displayName=E.fC.displayName;var I=l(965),Z=e=>{let{isVisible:t,onClose:l,onNewGame:r,time:n}=e;return((0,a.useEffect)(()=>{if(t){let e=Date.now()+5e3,t=(e,t)=>Math.random()*(t-e)+e,l=setInterval(()=>{let r=e-Date.now();if(r<=0){clearInterval(l);return}let a=r/5e3*50;(0,I.Z)({particleCount:a,origin:{x:t(.1,.3),y:Math.random()-.2},zIndex:100}),(0,I.Z)({particleCount:a,origin:{x:t(.7,.9),y:Math.random()-.2},zIndex:100})},250);return()=>clearInterval(l)}},[t]),t)?a.createElement("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50"},a.createElement("div",{className:"bg-white p-8 rounded-lg shadow-lg text-center"},a.createElement("h2",{className:"text-3xl font-bold mb-4"},"Congratulations!"),a.createElement("p",{className:"text-xl mb-4"},"You've solved the Advanced Queens Puzzle!"),a.createElement("p",{className:"text-lg mb-6"},"Your time: ".concat(n)),a.createElement("div",{className:"flex justify-center space-x-4"},a.createElement(m,{onClick:l},"Close"),a.createElement(m,{onClick:r},"New Game")))):null},X=l(7138),q=()=>{let[e,t]=(0,a.useState)(8),[l,o]=(0,a.useState)(()=>Array(8).fill(null).map(()=>Array(8).fill(null))),[i,d]=(0,a.useState)(()=>Array(8).fill(null).map(()=>Array(8).fill(0))),[c,u]=(0,a.useState)(""),[f,h]=(0,a.useState)(!1),[x,p]=(0,a.useState)(0),[g,w]=(0,a.useState)([]),[N,C]=(0,a.useState)(!1),[E,I]=(0,a.useState)(!0),[q,H]=(0,a.useState)([]),[B,D]=(0,a.useState)(!1),[V,Y]=(0,a.useState)(0),[P,O]=(0,a.useState)(null),F=(0,a.useRef)(null),[$,L]=(0,a.useState)(!1),[U,W]=(0,a.useState)(!1),[J,K]=(0,a.useState)(!1),ee=(0,a.useRef)(null);(0,a.useEffect)(()=>{W(!0),ea()},[]);let et=(0,a.useCallback)(t=>{if(!F.current)return null;let l=F.current.getBoundingClientRect(),r=t.clientX-l.left,a=t.clientY-l.top,n=l.width/e,s=Math.floor(a/n),o=Math.floor(r/n);return s>=0&&s<e&&o>=0&&o<e?{row:s,col:o}:null},[e]),el=(0,a.useCallback)(()=>{o(Array(e).fill(null).map(()=>Array(e).fill(null))),H([]),O(null),u("Board cleared. Start placing queens!")},[e]),er=(0,a.useCallback)((t,r)=>{if(!l||!i)return;let a=i[t][r],n=!0,s="";for(let a=0;a<e;a++)if(a!==r&&"Q"===l[t][a]||a!==t&&"Q"===l[a][r]){n=!1,s="Invalid placement: Queens cannot be in the same row or column.";break}if(n)for(let a=0;a<e;a++){for(let o=0;o<e;o++)if("Q"===l[a][o]&&Math.abs(a-t)===Math.abs(o-r)&&(a!==t||o!==r)){n=!1,s="Invalid placement: Queens cannot be on the same diagonal.";break}if(!n)break}if(n)for(let o=0;o<e;o++){for(let d=0;d<e;d++)if("Q"===l[o][d]&&i[o][d]===a&&(o!==t||d!==r)){n=!1,s="Invalid placement: Only one queen is allowed in each color region.";break}if(!n)break}n?u(""):u(s)},[l,i,e]),ea=(0,a.useCallback)(()=>{D(!0),Y(0),u("Generating board..."),setTimeout(()=>{let t=G(e);if(t){let{regions:e,solution:l}=t;d(e),w(l),el(),I(!0),u("The board is valid and has a solution. Good luck!"),D(!1),h(!1),p(0),C(!1)}else u("Failed to generate a valid board. Please try again."),D(!1)},100)},[e,el]);(0,a.useEffect)(()=>{let e=setInterval(()=>{p(e=>e+1)},1e3);return()=>clearInterval(e)},[]);let en=(0,a.useCallback)(function(e,t){let l=arguments.length>2&&void 0!==arguments[2]&&arguments[2];f||N||(o(r=>{if(!r)return r;let a=[...r.map(e=>[...e])];if(l)"X"!==a[e][t]&&(a[e][t]="X");else switch(a[e][t]){case null:a[e][t]="X";break;case"X":a[e][t]="Q";break;case"Q":a[e][t]=null}return a}),O(null),H(l=>l.filter(l=>l.row!==e||l.col!==t)),setTimeout(()=>{er(e,t)},0))},[f,N,er]),es=(0,a.useCallback)(()=>{if(!l||!i||0===l.length||0===i.length)return;let t=Array(e).fill(0),r=Array(e).fill(0),a=new Map;for(let n=0;n<e;n++)for(let s=0;s<e;s++)if(l[n]&&"Q"===l[n][s]){t[n]++,r[s]++;let e=i[n][s];a.set(e,(a.get(e)||0)+1)}t.every(e=>1===e)&&r.every(e=>1===e)&&Array.from(a.values()).every(e=>1===e)&&(u("Congratulations! You solved the puzzle!"),h(!0),L(!0))},[l,e,i]);(0,a.useEffect)(()=>{l&&i&&es()},[l,i,es]);let eo=()=>{ea()},ei=(0,a.useCallback)(()=>{if(!E||!g||!l){u("This board has no valid solution. Please reset the game.");return}let t=[];for(let r=0;r<e;r++)for(let a=0;a<e;a++)if(null===l[r][a]&&"Q"!==g[r][a]){let n=!0;for(let t=0;t<e;t++)if("Q"===l[r][t]||"Q"===l[t][a]){n=!1;break}if(n)for(let t=0;t<e;t++){for(let s=0;s<e;s++)if("Q"===l[t][s]&&Math.abs(t-r)===Math.abs(s-a)){n=!1;break}if(!n)break}n&&t.push({row:r,col:a})}if(t.length>0){let e=t.sort(()=>.5-Math.random()).slice(0,3);H(e),u("Highlighted ".concat(e.length," cell").concat(e.length>1?"s":""," where you can safely place X").concat(e.length>1?"s":"","."))}else u("No valid positions for X marks. Try moving some queens or X marks.")},[E,g,e,l]),ed=e=>{let t=e%60;return"".concat(Math.floor(e/60),":").concat(t<10?"0":"").concat(t)},ec=(0,a.useCallback)(e=>{let l=parseInt(e,10);t(l),D(!0),Y(0),setTimeout(()=>{let e=G(l);if(e){let{regions:t,solution:r}=e;d(t),w(r),o(Array(l).fill(null).map(()=>Array(l).fill(null))),H([]),O(null),I(!0),u("The board is valid and has a solution. Good luck!"),h(!1),p(0),C(!1)}else u("Failed to generate a valid board. Please try again.");D(!1)},100)},[]),eu=(0,a.useCallback)(e=>{K(!0);let t=et(e);t&&(en(t.row,t.col),ee.current=t)},[en,et]),ef=(0,a.useCallback)(e=>{if(J){var t,l;let r=et(e);r&&(r.row!==(null===(t=ee.current)||void 0===t?void 0:t.row)||r.col!==(null===(l=ee.current)||void 0===l?void 0:l.col))&&(en(r.row,r.col,!0),ee.current=r)}},[J,en,et]),em=(0,a.useCallback)(()=>{K(!1),ee.current=null},[]),eh=(0,a.useCallback)(e=>{let t=et(e.touches[0]);t&&(en(t.row,t.col),ee.current=t)},[en,et]),ex=(0,a.useCallback)(e=>{var t,l;e.preventDefault();let r=et(e.touches[0]);r&&(r.row!==(null===(t=ee.current)||void 0===t?void 0:t.row)||r.col!==(null===(l=ee.current)||void 0===l?void 0:l.col))&&(en(r.row,r.col,!0),ee.current=r)},[en,et]),ep=(0,a.useCallback)(()=>{ee.current=null},[]),eg=(0,a.useCallback)(()=>Math.floor((Math.min(window.innerWidth-40,window.innerHeight-200,500)-e-1)/e),[e]),eb=(0,a.useCallback)(e=>{let t=["bg-purple-400","bg-yellow-400","bg-blue-400","bg-green-400","bg-red-400","bg-pink-400","bg-indigo-400","bg-orange-400","bg-teal-400","bg-cyan-400"];return t[e%t.length]},[]),ev=(0,a.useCallback)((t,l)=>{var r;let a="";return(0===t||i[t][l]!==i[t-1][l])&&(a+=" border-t-2"),(0===l||i[t][l]!==i[t][l-1])&&(a+=" border-l-2"),(t===e-1||i[t][l]!==(null===(r=i[t+1])||void 0===r?void 0:r[l]))&&(a+=" border-b-2"),(l===e-1||i[t][l]!==i[t][l+1])&&(a+=" border-r-2"),a},[i,e]);if(!U||!l||!i)return(0,r.jsx)("div",{children:"Loading..."});let ey=eg(),ew=ey*e+(e-1);return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-start min-h-screen bg-gray-100 p-4 overflow-x-hidden",children:[(0,r.jsxs)(Q,{className:"w-full max-w-2xl mb-4",children:[(0,r.jsx)(R,{children:(0,r.jsx)(z,{className:"text-2xl font-bold",children:"Advanced Queens Game"})}),(0,r.jsxs)(T,{children:[(0,r.jsxs)("div",{className:"mb-4 text-xl font-semibold",children:["Time: ",ed(x)]}),(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsxs)(b,{onValueChange:ec,value:e.toString(),children:[(0,r.jsx)(y,{className:"w-full sm:w-[180px]",children:(0,r.jsx)(v,{placeholder:"Select grid size"})}),(0,r.jsx)(j,{children:[7,8,9,10].map(e=>(0,r.jsxs)(k,{value:e.toString(),children:[e,"x",e]},e))})]})})]})]}),(0,r.jsx)("div",{className:"relative border-2 border-black",style:{width:"".concat(ew+2,"px"),height:"".concat(ew+2,"px")},children:B?(0,r.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[(0,r.jsx)(_,{value:V,className:"w-full mb-4"}),(0,r.jsx)("p",{className:"text-center",children:"Generating valid board..."})]}):(0,r.jsx)("div",{ref:F,className:"absolute inset-0 grid touch-none select-none",style:{gridTemplateColumns:"repeat(".concat(e,", ").concat(ey,"px)"),gap:"1px",backgroundColor:"#000"},onMouseDown:eu,onMouseMove:ef,onMouseUp:em,onMouseLeave:em,onTouchStart:eh,onTouchMove:ex,onTouchEnd:ep,children:l.map((e,t)=>e.map((e,l)=>{var a,o;return(0,r.jsxs)("div",{className:"\n                    flex items-center justify-center cursor-pointer\n                    ".concat(eb(null!==(o=null===(a=i[t])||void 0===a?void 0:a[l])&&void 0!==o?o:0),"\n                    ").concat(ev(t,l),"\n                    ").concat(q.some(e=>e.row===t&&e.col===l)?"ring-2 ring-inset ring-red-500":"","\n                    ").concat(P&&P.row===t&&P.col===l?"ring-4 ring-inset ring-black":"","\n                    border-black transition-all duration-200\n                  "),style:{width:"".concat(ey,"px"),height:"".concat(ey,"px")},children:["Q"===e&&(0,r.jsx)(n.Z,{className:"w-3/4 h-3/4 text-black"}),"X"===e&&(0,r.jsx)(s.Z,{className:"w-3/4 h-3/4 text-black"})]},"".concat(t,"-").concat(l))}))})}),(0,r.jsx)(Q,{className:"w-full max-w-2xl mt-4",children:(0,r.jsxs)(T,{children:[(0,r.jsxs)("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:[(0,r.jsx)(m,{onClick:eo,variant:"default",disabled:B,children:B?"Generating...":"New Game"}),(0,r.jsx)(m,{onClick:el,variant:"secondary",disabled:f||N,children:"Clear Board"}),(0,r.jsx)(m,{onClick:ei,variant:"secondary",disabled:f||N,children:"Hint"}),(0,r.jsx)(m,{onClick:()=>{if(!g||0===g.length||!l){u("No solution available for queen hint.");return}let e=g.flatMap((e,t)=>e.map((e,l)=>({row:t,col:l,value:e}))).filter(e=>"Q"===e.value&&"Q"!==l[e.row][e.col]);if(0===e.length){u("All queens are already correctly placed!");return}let t=e[Math.floor(Math.random()*e.length)];O({row:t.row,col:t.col}),u("A queen hint has been provided. The highlighted cell shows a correct queen position.")},variant:"secondary",disabled:f||N,children:"Queen Hint"}),(0,r.jsx)(m,{onClick:()=>{if(0===g.length){u("This puzzle configuration has no valid solution.");return}C(!N),o(N?Array(e).fill(null).map(()=>Array(e).fill(null)):g),H([])},variant:"outline",className:"flex items-center",children:N?"Hide Solution":"Show Solution"}),(0,r.jsx)(X.default,{href:"/",children:(0,r.jsx)(m,{variant:"outline",children:"Back to Home"})})]}),c&&(0,r.jsxs)(M,{children:[(0,r.jsx)(A,{children:"Game Status"}),(0,r.jsx)(S,{children:c})]})]})}),(0,r.jsx)(Z,{isVisible:$,onClose:()=>{L(!1)},onNewGame:eo,time:ed(x)})]})}}},function(e){e.O(0,[231,148,971,23,744],function(){return e(e.s=7457)}),_N_E=e.O()}]);