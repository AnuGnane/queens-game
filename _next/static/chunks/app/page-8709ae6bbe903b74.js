(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7457:function(e,t,r){Promise.resolve().then(r.bind(r,7620))},7620:function(e,t,r){"use strict";r.d(t,{default:function(){return G}});var l=r(7437),a=r(2265),n=r(957),s=r(4697),o=r(1538),i=r(2218),d=r(4839),c=r(6164);function u(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,c.m6)((0,d.W)(t))}let f=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),h=a.forwardRef((e,t)=>{let{className:r,variant:a,size:n,asChild:s=!1,...i}=e,d=s?o.g7:"button";return(0,l.jsx)(d,{className:u(f({variant:a,size:n,className:r})),ref:t,...i})});h.displayName="Button";var m=r(543),p=r(2421),g=r(4392),x=r(2468);let v=m.fC;m.ZA;let b=m.B4,y=a.forwardRef((e,t)=>{let{className:r,children:a,...n}=e;return(0,l.jsxs)(m.xz,{ref:t,className:u("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...n,children:[a,(0,l.jsx)(m.JO,{asChild:!0,children:(0,l.jsx)(p.Z,{className:"h-4 w-4 opacity-50"})})]})});y.displayName=m.xz.displayName;let w=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)(m.u_,{ref:t,className:u("flex cursor-default items-center justify-center py-1",r),...a,children:(0,l.jsx)(g.Z,{className:"h-4 w-4"})})});w.displayName=m.u_.displayName;let j=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)(m.$G,{ref:t,className:u("flex cursor-default items-center justify-center py-1",r),...a,children:(0,l.jsx)(p.Z,{className:"h-4 w-4"})})});j.displayName=m.$G.displayName;let N=a.forwardRef((e,t)=>{let{className:r,children:a,position:n="popper",...s}=e;return(0,l.jsx)(m.h_,{children:(0,l.jsxs)(m.VY,{ref:t,className:u("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:n,...s,children:[(0,l.jsx)(w,{}),(0,l.jsx)(m.l_,{className:u("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,l.jsx)(j,{})]})})});N.displayName=m.VY.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)(m.__,{ref:t,className:u("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...a})}).displayName=m.__.displayName;let k=a.forwardRef((e,t)=>{let{className:r,children:a,...n}=e;return(0,l.jsxs)(m.ck,{ref:t,className:u("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...n,children:[(0,l.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,l.jsx)(m.wU,{children:(0,l.jsx)(x.Z,{className:"h-4 w-4"})})}),(0,l.jsx)(m.eT,{children:a})]})});k.displayName=m.ck.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)(m.Z0,{ref:t,className:u("-mx-1 my-1 h-px bg-muted",r),...a})}).displayName=m.Z0.displayName;let C=(0,i.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),M=a.forwardRef((e,t)=>{let{className:r,variant:a,...n}=e;return(0,l.jsx)("div",{ref:t,role:"alert",className:u(C({variant:a}),r),...n})});M.displayName="Alert";let S=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("h5",{ref:t,className:u("mb-1 font-medium leading-none tracking-tight",r),...a})});S.displayName="AlertTitle";let A=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("div",{ref:t,className:u("text-sm [&_p]:leading-relaxed",r),...a})});A.displayName="AlertDescription";let R=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("div",{ref:t,className:u("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});R.displayName="Card";let Q=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("div",{ref:t,className:u("flex flex-col space-y-1.5 p-6",r),...a})});Q.displayName="CardHeader";let _=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("h3",{ref:t,className:u("text-2xl font-semibold leading-none tracking-tight",r),...a})});_.displayName="CardTitle",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("p",{ref:t,className:u("text-sm text-muted-foreground",r),...a})}).displayName="CardDescription";let T=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("div",{ref:t,className:u("p-6 pt-0",r),...a})});T.displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("div",{ref:t,className:u("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter";var z=r(6506);let q=a.forwardRef((e,t)=>{let{className:r,value:a,...n}=e;return(0,l.jsx)(z.fC,{ref:t,className:u("relative h-4 w-full overflow-hidden rounded-full bg-secondary",r),...n,children:(0,l.jsx)(z.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})});q.displayName=z.fC.displayName;var G=()=>{let[e,t]=(0,a.useState)(8),[r,o]=(0,a.useState)([]),[i,d]=(0,a.useState)([]),[c,u]=(0,a.useState)(""),[f,m]=(0,a.useState)(!1),[p,g]=(0,a.useState)(0),[x,w]=(0,a.useState)([]),[j,C]=(0,a.useState)(!1),[z,G]=(0,a.useState)(!0),[X,Z]=(0,a.useState)([]),[Y,E]=(0,a.useState)(!1),[B,H]=(0,a.useState)(0),[V,I]=(0,a.useState)(null),[D,O]=(0,a.useState)(!1),P=(0,a.useRef)(null),[$,F]=(0,a.useState)(null),U=(0,a.useCallback)(()=>{o(Array(e).fill(null).map(()=>Array(e).fill(null))),Z([]),I(null),u("Board cleared. Start placing queens!")},[e]),W=(0,a.useCallback)(()=>{E(!0),H(0),u("Generating board..."),setTimeout(()=>{let t=function(e){let t=0;for(;t<1e3;){t++;let r=function(e){let t=Array(e).fill(0).map(()=>Array(e).fill(0)),r=Array(e).fill(1),l=e*e-e;for(let r=0;r<e;r++){let l=!1;for(;!l;){let a=Math.floor(Math.random()*e),n=Math.floor(Math.random()*e);0===t[a][n]&&(t[a][n]=r+1,l=!0)}}for(;l>0;){let a=Math.floor(Math.random()*e)+1,n=[[0,1],[1,0],[0,-1],[-1,0]],s=!1;for(let o=0;o<e&&!s;o++)for(let i=0;i<e&&!s;i++)if(t[o][i]===a)for(let[d,c]of n){let n=o+d,u=i+c;if(n>=0&&n<e&&u>=0&&u<e&&0===t[n][u]){t[n][u]=a,r[a-1]++,l--,s=!0;break}}}return t}(e),l=function(e,t){let r=Array(t).fill(null).map(()=>Array(t).fill(null)),l=new Set;return!function a(n){if(n===t)return!0;for(let s of Array.from({length:t},(e,t)=>t).sort(()=>Math.random()-.5))if(function(a,n){for(let e=0;e<t;e++)if("Q"===r[a][e]||"Q"===r[e][n])return!1;for(let e=0;e<t;e++)for(let l=0;l<t;l++)if("Q"===r[e][l]&&Math.abs(e-a)===Math.abs(l-n))return!1;return!l.has(e[a][n])}(n,s)){if(r[n][s]="Q",l.add(e[n][s]),a(n+1))return!0;r[n][s]=null,l.delete(e[n][s])}return!1}(0)?null:r}(r,e);if(l)return{regions:r,solution:l}}return null}(e);if(t){let{regions:e,solution:r}=t;d(e),w(r),U(),G(!0),u("The board is valid and has a solution. Good luck!"),E(!1),m(!1),g(0),C(!1)}else u("Failed to generate a valid board. Please try again."),E(!1)},100)},[e,U]);(0,a.useEffect)(()=>{W()},[W]),(0,a.useEffect)(()=>{let e=setInterval(()=>{g(e=>e+1)},1e3);return()=>clearInterval(e)},[]);let J=(t,l)=>{let a=i[t][l];for(let a=0;a<e;a++)if("Q"===r[t][a]||"Q"===r[a][l])return!1;for(let a=0;a<e;a++)for(let n=0;n<e;n++)if("Q"===r[a][n]&&Math.abs(a-t)===Math.abs(n-l))return!1;for(let t=0;t<e;t++)for(let l=0;l<e;l++)if("Q"===r[t][l]&&i[t][l]===a)return!1;return!0},L=(e,t)=>{if(f||j)return;let l=[...r];switch(l[e][t]){case null:l[e][t]="X";break;case"X":if(J(e,t))l[e][t]="Q";else{u("Invalid queen placement. Check row, column, diagonal, and color region.");return}break;case"Q":l[e][t]=null}o(l),I(null),Z(r=>r.filter(r=>r.row!==e||r.col!==t)),ee()},K=(e,t)=>{if($&&$.row===e&&$.col===t)L(e,t);else if(F({row:e,col:t}),null===r[e][t]){let l=[...r];l[e][t]="X",o(l)}},ee=()=>{let t=Array(e).fill(0),l=Array(e).fill(0),a=new Map;for(let n=0;n<e;n++)for(let s=0;s<e;s++)if("Q"===r[n][s]){t[n]++,l[s]++;let e=i[n][s];a.set(e,(a.get(e)||0)+1)}t.every(e=>1===e)&&l.every(e=>1===e)&&Array.from(a.values()).every(e=>1===e)&&(u("Congratulations! You solved the puzzle!"),m(!0))},et=e=>{let t=["bg-purple-400","bg-yellow-400","bg-blue-400","bg-green-400","bg-red-400","bg-pink-400","bg-indigo-400","bg-orange-400","bg-teal-400","bg-cyan-400"];return t[e%t.length]},er=()=>{O(!1),F(null)},el=e=>"object"==typeof e&&null!==e&&"touches"in e&&Array.isArray(e.touches)&&e.touches.length>0&&"clientX"in e.touches[0]&&"clientY"in e.touches[0],ea=t=>{let r,l;if(!P.current)return null;let a=P.current.getBoundingClientRect();if("clientX"in t&&"clientY"in t)r=t.clientX-a.left,l=t.clientY-a.top;else{if(!el(t))return null;r=t.touches[0].clientX-a.left,l=t.touches[0].clientY-a.top}let n=a.width/e,s=Math.floor(l/n),o=Math.floor(r/n);return s>=0&&s<e&&o>=0&&o<e?{row:s,col:o}:null},en=()=>Math.floor(Math.min(window.innerWidth-40,500)/e);return(0,l.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 p-4",children:(0,l.jsxs)(R,{className:"w-full max-w-2xl",children:[(0,l.jsx)(Q,{children:(0,l.jsx)(_,{className:"text-2xl font-bold",children:"Advanced Queens Game"})}),(0,l.jsxs)(T,{children:[(0,l.jsxs)("div",{className:"mb-4 text-xl font-semibold",children:["Time: ",(e=>{let t=e%60;return"".concat(Math.floor(e/60),":").concat(t<10?"0":"").concat(t)})(p)]}),(0,l.jsx)("div",{className:"mb-4",children:(0,l.jsxs)(v,{onValueChange:e=>{t(parseInt(e,10)),W()},value:e.toString(),children:[(0,l.jsx)(y,{className:"w-full sm:w-[180px]",children:(0,l.jsx)(b,{placeholder:"Select grid size"})}),(0,l.jsx)(N,{children:[7,8,9,10].map(e=>(0,l.jsxs)(k,{value:e.toString(),children:[e,"x",e]},e))})]})}),Y?(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)(q,{value:B,className:"w-full"}),(0,l.jsx)("p",{className:"text-center mt-2",children:"Generating valid board..."})]}):(0,l.jsx)("div",{className:"flex justify-center mb-4",children:(0,l.jsx)("div",{ref:P,className:"grid gap-0.5 bg-gray-200 p-0.5 touch-none",style:{gridTemplateColumns:"repeat(".concat(e,", 1fr)"),width:"".concat(en()*e+(e-1)*2,"px"),height:"".concat(en()*e+(e-1)*2,"px")},onMouseDown:e=>{O(!0);let t=ea(e);t&&K(t.row,t.col)},onMouseMove:e=>{if(D){let t=ea(e);t&&((null==$?void 0:$.row)!==t.row||(null==$?void 0:$.col)!==t.col)&&K(t.row,t.col)}},onMouseUp:er,onMouseLeave:er,onTouchStart:e=>{if(O(!0),e.touches.length>0){let t=ea(e.touches[0]);t&&K(t.row,t.col)}},onTouchMove:e=>{if(D&&e.touches.length>0){let t=ea(e.touches[0]);t&&((null==$?void 0:$.row)!==t.row||(null==$?void 0:$.col)!==t.col)&&K(t.row,t.col)}},onTouchEnd:er,children:r.map((e,t)=>e.map((e,r)=>{var a,o;return(0,l.jsx)("div",{className:"\n                        flex items-center justify-center cursor-pointer\n                        ".concat(et(null!==(o=null===(a=i[t])||void 0===a?void 0:a[r])&&void 0!==o?o:0),"\n                        ").concat(X.some(e=>e.row===t&&e.col===r)?"border-2 border-red-500":"","\n                        ").concat(V&&V.row===t&&V.col===r?"border-4 border-black":"","\n                        transition-all duration-200\n                      "),style:{width:"".concat(en(),"px"),height:"".concat(en(),"px")},onClick:()=>K(t,r),children:"Q"===e?(0,l.jsx)(n.Z,{className:"w-3/4 h-3/4 text-black"}):"X"===e?(0,l.jsx)(s.Z,{className:"w-3/4 h-3/4 text-black"}):null},"".concat(t,"-").concat(r))}))})}),(0,l.jsxs)("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:[(0,l.jsx)(h,{onClick:W,variant:"default",disabled:Y,children:Y?"Generating...":"Reset"}),(0,l.jsx)(h,{onClick:U,variant:"secondary",children:"Clear Board"}),(0,l.jsx)(h,{onClick:()=>{if(!z||!x){u("This board has no valid solution. Please reset the game.");return}let t=[],l=[];for(let a=0;a<e;a++)for(let n=0;n<e;n++)"Q"===r[a][n]&&"Q"!==x[a][n]?t.push({row:a,col:n}):"Q"!==r[a][n]&&"Q"===x[a][n]&&l.push({row:a,col:n});if(t.length>0){let e=t.slice(0,3);Z(e),u("".concat(e.length," incorrect queen placement").concat(e.length>1?"s":""," highlighted. Try moving ").concat(e.length>1?"them":"it","."))}else if(l.length>0){let e=l.sort(()=>.5-Math.random()).slice(0,3);Z(e),u("Highlighted ".concat(e.length," cell").concat(e.length>1?"s":""," where queen").concat(e.length>1?"s":""," can be placed."))}else u("Great job! All queens are correctly placed.")},variant:"secondary",children:"Hint"}),(0,l.jsx)(h,{onClick:()=>{if(!x||0===x.length){u("No solution available for queen hint.");return}let e=x.flatMap((e,t)=>e.map((e,r)=>({row:t,col:r,value:e}))).filter(e=>"Q"===e.value&&"Q"!==r[e.row][e.col]);if(0===e.length){u("All queens are already correctly placed!");return}let t=e[Math.floor(Math.random()*e.length)];I({row:t.row,col:t.col}),u("A queen hint has been provided. The highlighted cell shows a correct queen position.")},variant:"secondary",children:"Queen Hint"}),(0,l.jsx)(h,{onClick:()=>{if(0===x.length){u("This puzzle configuration has no valid solution.");return}C(!j),o(j?Array(e).fill(null).map(()=>Array(e).fill(null)):x),Z([])},variant:"outline",className:"flex items-center",children:j?"Hide Solution":"Show Solution"})]}),c&&(0,l.jsxs)(M,{children:[(0,l.jsx)(S,{children:"Game Status"}),(0,l.jsx)(A,{children:c})]})]})]})})}}},function(e){e.O(0,[235,971,23,744],function(){return e(e.s=7457)}),_N_E=e.O()}]);